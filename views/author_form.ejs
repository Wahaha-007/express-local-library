<!-- extends layout

block content
  h1=title

  form(method='POST' action='')
    div.form-group
      label(for='first_name') First Name:
      input#first_name.form-control(type='text' placeholder='First name (Christian) last' name='first_name' required='true' value=(undefined===author ? '' : author.first_name) )
      label(for='family_name') Family Name:
      input#family_name.form-control(type='text' placeholder='Family name (surname)' name='family_name' required='true' value=(undefined===author ? '' : author.family_name))
    div.form-group
      label(for='date_of_birth') Date of birth:
      input#date_of_birth.form-control(type='date' name='date_of_birth' value=(undefined===author ? '' : author.date_of_birth) )
    button.btn.btn-primary(type='submit') Submit
  if errors
    ul
      for error in errors
        li!= error.msg -->

<%- include('layout-top'); -%>
<h1><%=title%></h1>

<form action="" method="post">
    <div class="form-group">
        <%const fi_name = (locals.author)? author.first_name:""%>
        <%const fa_name = (locals.author)? author.family_name:""%>
        <%const dob = (locals.author)? author.date_of_birth_f:""%>
        <%const dod = (locals.author)? author.date_of_death_f:""%>


        <label for="first_name">First Name:</label>
        <input type="text" id="first_name" class="form-control" placeholder="First name (Christian) last"
            name="first_name" required="true" value="<%=fi_name%>">

        <label for="family_name">Family Name:</label>
        <input type="text" id="family_name" class="form-control" placeholder="Family name (surname)" name="family_name"
            required="true" value="<%=fa_name%>">

        <label for="date_of_birth">Date of birth:</label>
        <input type="date" id="date_of_birth" class="form-control" name="date_of_birth" value="<%=dob%>">

        <label for="date_of_death">Date of death:</label>
        <input type="date" id="date_of_death" class="form-control" name="date_of_death" value="<%=dod%>">

        <button class="btn btn-primary" type="submit">Submit</button>
    </div>
</form>

<%if(locals.errors) {%>
<ul>
    <%errors.forEach(error=>{%>
    <li><%=error.msg%></li>
    <%})%>
</ul>
<%}%>
        
        
<%- include('layout-end'); -%>